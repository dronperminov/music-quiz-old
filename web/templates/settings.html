{% include "header.html" %}
<title>Настройки | music-quiz</title>
<link rel="stylesheet" type="text/css" href="/styles/settings.css?v={{version}}">
</head>
<body>
    {% include "menu.html" %}

    <h1>Настройки</h1>

    <div class="content">
        <div class="profile">
            <div class="profile-image">
                <img id="profile-image" src="{{user.image_src}}" alt="Аватар пользователя {{user.username}}" onclick="LoadProfileImage()" title="Загрузить новую аватарку">
                <input type="file" class="hidden" id="profile-input" accept="image/png, image/gif, image/jpeg" onchange="UpdateProfileImage(event)">

                <div class="profile-camera">
                    <svg width="18px" height="18px" viewBox="0 -2 32 32" xmlns="http://www.w3.org/2000/svg">
                        <path d="M286,471 L283,471 L282,469 C281.411,467.837 281.104,467 280,467 L268,467 C266.896,467 266.53,467.954 266,469 L265,471 L262,471 C259.791,471 258,472.791 258,475 L258,491 C258,493.209 259.791,495 262,495 L286,495 C288.209,495 290,493.209 290,491 L290,475 C290,472.791 288.209,471 286,471 Z M274,491 C269.582,491 266,487.418 266,483 C266,478.582 269.582,475 274,475 C278.418,475 282,478.582 282,483 C282,487.418 278.418,491 274,491 Z M274,477 C270.687,477 268,479.687 268,483 C268,486.313 270.687,489 274,489 C277.313,489 280,486.313 280,483 C280,479.687 277.313,477 274,477 L274,477 Z" id="camera" sketch:type="MSShapeGroup" transform="translate(-258.000000, -467.000000)" fill="#ffffff" />
                    </svg>
                </div>
            </div>
        </div>

        <div class="form-row" title="Полное имя">
            <div class="form-row-icon" id="fullname-icon">
                <svg class="form-svg-fill-icon" width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M12 1C8.96243 1 6.5 3.46243 6.5 6.5C6.5 9.53757 8.96243 12 12 12C15.0376 12 17.5 9.53757 17.5 6.5C17.5 3.46243 15.0376 1 12 1ZM8.5 6.5C8.5 4.567 10.067 3 12 3C13.933 3 15.5 4.567 15.5 6.5C15.5 8.433 13.933 10 12 10C10.067 10 8.5 8.433 8.5 6.5Z" />
                    <path d="M8 14C4.68629 14 2 16.6863 2 20V22C2 22.5523 2.44772 23 3 23C3.55228 23 4 22.5523 4 22V20C4 17.7909 5.79086 16 8 16H16C18.2091 16 20 17.7909 20 20V22C20 22.5523 20.4477 23 21 23C21.5523 23 22 22.5523 22 22V20C22 16.6863 19.3137 14 16 14H8Z" />
                </svg>
            </div>
            <div class="form-row-input">
                <input id="fullname" class="basic-input default-input" type="text" placeholder="Полное имя" value="{{user.fullname}}" oninput="ChangeField('fullname')">
            </div>
        </div>

        <div class="form-row" title="Цветовая тема">
            <div class="form-row-icon">
                <svg class="form-svg-fill-icon" height="26px" width="26px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" >
                    <path d="M428.215,172.215c0.008-47.522-19.292-90.648-50.445-121.777C346.649,19.293,303.515-0.007,256,0
                        c-47.514-0.007-90.648,19.293-121.769,50.446c-31.153,31.121-50.454,74.247-50.446,121.769
                        c-0.008,31.786,8.673,61.634,23.754,87.181h-0.008c0.016,0.032,0.048,0.064,0.064,0.096c0.04,0.064,0.065,0.128,0.104,0.192
                        l0.016-0.007c10.98,19.436,26.7,34.724,38.945,48.835c6.167,7.056,11.452,13.751,15,20.014c3.572,6.295,5.382,11.908,5.502,17.53
                        v95.421c0.008,29.44,23.858,53.296,53.305,53.304h7.64C233.312,504.96,243.787,512,256,512c12.213,0,22.688-7.04,27.894-17.218
                        h7.64c29.447-0.008,53.296-23.865,53.304-53.304v-95.414v-0.008c0.12-5.622,1.93-11.236,5.502-17.53
                        c5.302-9.419,14.592-19.709,24.762-30.914c10.074-11.179,20.982-23.352,29.191-37.936l0.008,0.007
                        c0.032-0.048,0.056-0.111,0.088-0.16c0.024-0.048,0.056-0.08,0.08-0.128h-0.008C419.542,233.849,428.223,204.001,428.215,172.215z
                         M311.828,461.771c-5.23,5.214-12.325,8.401-20.294,8.409h-71.068c-7.969-0.008-15.064-3.195-20.294-8.409
                        c-5.213-5.23-8.401-12.333-8.409-20.294v-5.326l120.128,25.54C311.868,461.715,311.852,461.747,311.828,461.771z M320.237,441.477
                        c0,1.754-0.216,3.452-0.513,5.11l-127.96-27.205v-33.524l128.473,27.316V441.477z M320.237,396.397L191.764,369.08V358.1h128.473
                        V396.397z M383.143,247.142l-0.104,0.169l-0.064,0.112c-8.505,15.408-22.92,29.848-36.159,44.904
                        c-6.607,7.576-12.918,15.361-17.867,24.034c-3.003,5.286-5.39,11.036-6.935,17.13H189.986c-1.546-6.102-3.932-11.844-6.944-17.13
                        c-7.432-12.982-17.867-24.081-27.893-35.246c-10.059-11.1-19.733-22.159-26.124-33.692l-0.08-0.128l-0.089-0.152
                        c-13.005-21.959-20.462-47.514-20.47-74.928c0.008-40.803,16.506-77.626,43.238-104.374C178.374,41.1,215.197,24.61,256,24.602
                        C296.804,24.61,333.627,41.1,360.375,67.84c26.732,26.748,43.23,63.571,43.238,104.374
                        C403.605,199.628,396.149,225.183,383.143,247.142z"/>
                </svg>
            </div>
            <div class="form-row-input">
                <select class="basic-input default-input" id="theme" onchange="ChangeTheme()">
                    <option value="light" {% if user.settings.theme == "light" %}selected{% endif %}>светлая тема</option>
                    <option value="dark" {% if user.settings.theme == "dark" %}selected{% endif %}>тёмная тема</option>
                </select>
            </div>
        </div>

        <button id="save-btn" class="basic-button default-button hidden" onclick="SaveSettings()">Сохранить настройки</button>
        <div class="error" id="error"></div>
    </div>

    <script src="/js/utils.js?v={{version}}"></script>
    <script src="/js/settings.js?v={{version}}"></script>
    {% include "footer.html" %}
</body>
</html>
